
@{
    ViewData["Title"] = "Chansons";
}

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Chansons</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
</head>
<body>

<div class="container mt-3">
    <h2>Chansons</h2>
    <div id="chansons-container"></div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {
        // Make HTTP request to API endpoint
        $.get("api/chansons", function(chansons) {
            // Iterate through chansons and render in cards
            chansons.forEach(function(chanson) {
                var chansonCard = `
                <div class="card mb-3">
                    <div class="card-header">
                        <h4 class="card-title">${chanson.nomChanson}</h4>
                    </div>
                    <div class="card-body">
                        <img class="card-img-top" src="${chanson.image}" alt="${chanson.nomChanson}" style="width:100%">
                        <p class="mt-2"><strong>Genre:</strong> ${chanson.genre}</p>
                        <p><strong>Langue:</strong> ${chanson.langue}</p>
                        <a href="${chanson.lien}" class="btn btn-primary" target="_blank">Listen</a>
                    </div>
                </div>`;
                $("#chansons-container").append(chansonCard);
            });
        });
    });
</script>

</body>
</html>


